# myled_2020


## フルカラーLEDを用いた信号の再現と7色の点滅

- フルカラーLEDを使用し，緑色の点滅後に赤色に点灯
- フルカラーLEDを使用し，赤→緑→黄色→青→ピンク→水色→白の順に点滅
## 使用する部品
- Raspberry Pi 4 ModelB x1
- RGBフルカラーLED(型番 OSTTA5131A) x1
- 5mm 赤色LED(型番 OSR5CA5B61P) x1
- LED拡散キャップ 5mm白 x1(フルカラーLEDに使用)
- ブレッドボード x1
- ジャンパー線(オス-メス) x1
- ジャンパー線(オス-オス) x6
- カーボン抵抗器 330Ω (フルカラーLEDに使用) x3
- カーボン抵抗器 100Ω(赤色LEDに使用) x1
- カーボン抵抗器 75Ω (赤色LEDに使用) x1

## 回路図

<img src = "./images/5mmLED1.png" width="500">
図1　赤色LEDを点灯・点滅させるための回路

<img src = "./images/RGBLED1.png" width="500">

図2　フルカラーLEDを点灯・点滅させるための回路

## 配線について
<img src = "./images/imag1.jpeg" width="500">

図3　配線の様子

5mm 赤色LEDの各ピンとGPIOの接続先
- 赤色LEDのアノードと抵抗(2つの抵抗を直列につなぐ)を接続し，ジャンパー線を用いてGPIO25のピンに接続
- 赤色LEDのカソードと抵抗をジャンパー線を用いてGNDピンに接続

フルカラーLEDの各ピンとGPIOの接続先
- フルカラーLEDの赤のピンと抵抗(330Ω)を接続し，ジャンパー線を用いてGPIO4のピンに接続
- フルカラーLEDの青のピンと抵抗(330Ω)を接続し，ジャンパー線を用いてGPIO22のピンに接続
- フルカラーLEDの緑のピンと抵抗(330Ω)を接続し，ジャンパー線を用いてGPIO23のピンに接続
- フルカラーLEDのカソードをジャンパー線を用いてGNDピンに接続



## プログラムの実行方法

```
$make
$sudo insmod myled.ko
$sudo chmod 666 /dev/myled0
```

## 動画説明

- フルカラーLEDと赤色LEDが交互に点滅
```
$echo 1 > /dev/myled0
```

- 赤色LEDが点滅
```
$echo 2 > /dev/myled0
```

- フルカラーLEDが緑色に点滅し，その後赤色LEDとともに赤色が点灯
(信号機の緑の点滅後、赤を点灯するイメージで製作)
```
$echo 3 > /dev/myled0
```

- フルカラーLEDと赤色LEDが消灯
```
$echo 0 > /dev/myled0
```

- フルカラーLEDを使用し，順に点灯
点灯順は，赤→緑→黄色→青→ピンク→水色→白
LED拡散キャップを装着することで発光が綺麗に見える．
今回使用するフルカラーLEDは、共通カソードのものであるためGPIOがHighの時に点灯する．
```
$echo 4 > /dev/myled0
```

## デモ動画
https://youtu.be/ObT22L09GHY


